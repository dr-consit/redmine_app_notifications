<% unless notification.issue.nil? %>
  <a class="view-notification" href="<%= url_for(:controller => 'app_notifications', :action => 'view', :id => notification.id, :issue_id => notification.issue.id) %>">
    <div class="notification-container <%= 'new' if !notification.viewed %>">
      <div class="notification-title">
        <%= avatar(notification.issue.author, :size => "24") %>
        <%= l(:text_issue_added, :id => "##{notification.issue.id} #{notification.issue.subject}", :author => h(notification.issue.author)) %>
      </div>
      <div class="notification-date"><%= format_time(notification.created_on) %></div>
    </div>
  </a>
<% end %>
<% unless notification.kbarticle.nil? %>
  <a class="view-notification" href="<%= url_for(:controller => 'app_notifications', :action => 'view', :id => notification.id, :article_id => notification.kbarticle.id) %>">
    <div class="notification-container <%= 'new' if !notification.viewed %>">
      <div class="notification-title">
        <%= avatar(notification.kbarticle.author, :size => "24") %>
        <%= l(:text_article_added, :id => "##{notification.kbarticle.id} #{notification.kbarticle.title}", :author => h(notification.kbarticle.author)) %>
      </div>
      <div class="notification-date"><%= format_time(notification.created_on) %></div>
    </div>
  </a>
<% end %>
<% unless notification.news.nil? %>
  <a class="view-notification" href="<%= url_for(:controller => 'app_notifications', :action => 'view', :id => notification.id, :news_id => notification.news.id) %>">
    <div class="notification-container <%= 'new' if !notification.viewed %>">
      <div class="notification-title">
        <%= avatar(notification.news.author, :size => "24") %>
        <%= l(:text_news_added, :id => "##{notification.news.id} #{notification.news.title}", :author => h(notification.news.author)) %>
      </div>
      <div class="notification-date"><%= format_time(notification.created_on) %></div>
    </div>
  </a>
<% end %>
